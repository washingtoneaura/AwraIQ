<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Awra Inventory & Procurement - Complete Documentation</title>
    <link rel="stylesheet" href="docs.css">
</head>
<body>
    <div class="container">
        <!-- Sidebar Navigation -->
        <nav class="sidebar">
            <h2>Documentation</h2>
            <ul>
                <li><a href="#overview">Overview</a></li>
                <li><a href="#installation">Installation & Environment</a></li>
                <li><a href="#architecture">System Architecture</a></li>
                <li><a href="#database-schema">Database Schema</a></li>
                <li><a href="#multi-tenant">Multi-Tenant Setup</a></li>
                <li><a href="#roles-permissions">Roles & Permissions</a></li>
                <li><a href="#items-management">Items Management</a></li>
                <li><a href="#vendors-procurement">Vendors & Procurement</a></li>
                <li><a href="#ai-quote-analysis">AI Quotation Analysis</a></li>
                <li><a href="#notifications-logging">Notifications & Logging</a></li>
                <li><a href="#frontend-layouts">Frontend Layouts</a></li>
                <li><a href="#api">API Endpoints</a></li>
                <li><a href="#monitoring">Monitoring: Horizon / Pulse / Telescope</a></li>
                <li><a href="#faq">FAQ</a></li>
            </ul>
            <div class="login-button">
                <a href="https://washingtone.techmates.team/dashboard" target="_blank">Awra System - Login</a>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="content">

            <!-- Overview -->
            <section id="overview">
                <h1>Overview</h1>
                <p>The <strong>Awra Inventory & Procurement System</strong> is a multi-tenant, web-based platform designed to handle:</p>
                <ul>
                    <li>Inventory management with real-time item tracking</li>
                    <li>Procurement workflows, including RFQs, quotations, and POs</li>
                    <li>Vendor management and automated vendor notifications</li>
                    <li>AI-powered quotation analysis for cost and delivery optimization</li>
                    <li>Role-based access control and multi-tenant isolation</li>
                    <li>Monitoring, logging, and audit trails for all operations</li>
                </ul>
                <p>The platform is built with <strong>Laravel</strong>, <strong>MySQL</strong>, <strong>Redis</strong>, <strong>Tailwind CSS</strong>, and integrates with <strong>Mailgun, Mailjet</strong>, and <strong>MPESA API</strong>.</p>
            </section>

            <!-- Installation -->
            <section id="installation">
                <h1>Installation & Environment Setup</h1>
                <p>Steps to get the system running locally or in production:</p>
                <pre><code>...</code></pre>
                <h3>Environment Variables</h3>
                <ul>
                    <li><code>APP_URL</code> - Base URL of your app</li>
                    <li><code>DB_CONNECTION</code></li>
                    <li><code>DB_CACHE_CONNECTION</code> - Redis cache connection</li>
                    <li><code>MAIL_DOMAIN</code>- Email notifications</li>
                    <li><code>MPESA</code> - Payment integration</li>
                </ul>
            </section>

            <!-- System Architecture -->
            <section id="architecture">
                <h1>System Architecture</h1>
                <p>The system follows a modular architecture with separation of concerns:</p>
                <ul>
                    <li><strong>Backend:</strong> Laravel (Controllers, Models, Jobs, Mailables)</li>
                    <li><strong>Database:</strong> MySQL (normalized, multi-tenant aware)</li>
                    <li><strong>Caching & Queues:</strong> Redis for cache and background jobs</li>
                    <li><strong>AI Service:</strong> Python service for analyzing vendor quotations</li>
                    <li><strong>Frontend:</strong> Blade templates, Tailwind CSS, Alpine.js</li>
                    <li><strong>Monitoring:</strong> Laravel Horizon, Pulse, Telescope</li>
                </ul>
            </section>

            <!-- Database Schema -->
            <section id="database-schema">
                <h1>Database Schema</h1>
                <p>Key tables and relationships:</p>
                <ul>
                    <li><strong>users</strong>: Linked to tenants; <code>user_id</code> used as primary key</li>
                </ul>
            </section>

            <!-- Multi-Tenant Setup -->
            <section id="multi-tenant">
                <h1>Multi-Tenant Setup</h1>
                <p>All tenant data is isolated . This ensures:</p>
                <ul>
                    <li>Secure separation of data between organizations</li>
                    <li>Custom fields and preferences per tenant</li>
                    <li>Tenant-specific dashboards, items, and vendor access</li>
                </ul>
            </section>

            <!-- Roles & Permissions -->
            <section id="roles-permissions">
                <h1>Roles & Permissions</h1>
                <p>Access is controlled via <code>role_user</code> mapping:</p>
                <ul>
                    <li>Admin: Full access, tenant creation, role assignment</li>
                    <li>Procurement Officer: Manage RFQs, quotations, POs</li>
                    <li>Inventory Manager: Manage items, categories, adjustments</li>
                    <li>Vendor: Limited dashboard for RFQs, quotations, and POs</li>
                </ul>
            </section>

            <!-- Items Management -->
            <section id="items-management">
                <h1>Items Management</h1>
                <p>Key functionalities:</p>
                <ul>
                    <li>Add, edit, delete items (subject to adjustment/quotation constraints)</li>
                    <li>Daily-generated unique item IDs</li>
                    <li>Photo uploads and tenant-specific custom fields</li>
                    <li>Audit trail for every adjustment</li>
                </ul>
            </section>

            <!-- Vendors & Procurement -->
            <section id="vendors-procurement">
                <h1>Vendors & Procurement</h1>
                <p>Workflows:</p>
                <ul>
                    <li>RFQs sent to selected vendors</li>
                    <li>Vendors submit quotations via dashboard</li>
                    <li>Approval workflow for quotations</li>
                    <li>PO generation and tracking</li>
                    <li>Order fulfillment and delivery tracking</li>
                </ul>
            </section>

            <!-- AI Quotation Analysis -->
            <section id="ai-quote-analysis">
                <h1>AI-Powered Quotation Analysis</h1>
                <p>The AI module evaluates quotations using:</p>
                <ul>
                    <li>Item-wise price comparison</li>
                    <li>Total cost analysis and ranking</li>
                    <li>Delivery time estimation</li>
                    <li>Vendor performance scoring</li>
                    <li>Final recommendation to the procurement officer</li>
                </ul>
            </section>

            <!-- Notifications & Logging -->
            <section id="notifications-logging">
                <h1>Notifications & Logging</h1>
                <ul>
                    <li>Email notifications for RFQs, POs, and alerts</li>
                    <li>SMS notifications via integrated gateways</li>
                    <li>Activity and audit logging for all CRUD operations</li>
                    <li>Request monitoring via Telescope</li>
                </ul>
            </section>

            <!-- Frontend Layouts -->
            <section id="frontend-layouts">
                <h1>Frontend Layouts</h1>
                <p>The system uses multiple Blade layouts:</p>
                <ul>
                    <li><strong>Main Layout:</strong> Header, navigation, dynamic content section, footer</li>
                    <li><strong>Vendor Layout:</strong> Vendor dashboard with sidebar, topbar, logout, and RFQs/PO management</li>
                </ul>
            </section>

            <!-- API Endpoints -->
            <section id="api">
                <h1>API Endpoints</h1>
                <p>Available endpoints:</p>
                <pre><code>GET /api/items
POST /api/items
PUT /api/items/{id}
DELETE /api/items/{id}

GET /api/quotations
POST /api/quotations
GET /api/quotations/{id}

GET /api/vendors
POST /api/vendors
PUT /api/vendors/{id}</code></pre>
                <p>All API endpoints respect tenant isolation and role permissions.</p>
            </section>

            <!-- Monitoring -->
            <section id="monitoring">
                <h1>Monitoring: Horizon / Pulse / Telescope</h1>
                <ul>
                    <li>Horizon: Manage background jobs and queue workers</li>
                    <li>Pulse: Real-time performance metrics and alerts</li>
                    <li>Telescope: Inspect requests, logs, and exceptions</li>
                </ul>
            </section>

            <!-- FAQ -->
            <section id="faq">
                <h1>FAQ</h1>
                <ul>
                    <li><strong>Reset migrations:</strong> <code>php artisan migrate:fresh --seed</code></li>
                    <li><strong>Access Pulse:</strong> Only authorized emails configured in Pulse auth closure</li>
                    <li><strong>Add new tenants:</strong> Admin panel â†’ Tenant Management</li>
                    <li><strong>Vendor login issues:</strong> Check guard configuration and vendor table</li>
                    <li><strong>AI quotation not appearing:</strong> Ensure Python service is running and queue jobs processed</li>
                </ul>
            </section>

        </main>
    </div>

    <script src="docs.js"></script>
</body>
</html>
